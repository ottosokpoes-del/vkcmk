{
  "name": "grader-marketplace-cloudflare-config",
  "version": "1.0.0",
  "description": "Cloudflare optimization configuration for Grader Marketplace",
  "settings": {
    "caching": {
      "browserCacheTtl": 14400,
      "edgeCacheTtl": 86400,
      "respectExistingHeaders": true,
      "cacheLevel": "aggressive"
    },
    "security": {
      "securityLevel": "high",
      "browserIntegrityCheck": true,
      "challengePassage": 30,
      "privacyPass": true
    },
    "performance": {
      "minify": {
        "css": true,
        "html": true,
        "js": true
      },
      "brotli": true,
      "earlyHints": true,
      "http2": true,
      "http3": true,
      "0rtt": true
    },
    "optimization": {
      "autoMinify": true,
      "mirage": true,
      "polish": "lossless",
      "webp": true,
      "avif": true
    },
    "headers": {
      "securityHeaders": {
        "X-Content-Type-Options": "nosniff",
        "X-Frame-Options": "DENY",
        "X-XSS-Protection": "1; mode=block",
        "Referrer-Policy": "strict-origin-when-cross-origin",
        "Permissions-Policy": "camera=(), microphone=(), geolocation=()",
        "Strict-Transport-Security": "max-age=31536000; includeSubDomains; preload"
      },
      "performanceHeaders": {
        "Cache-Control": "public, max-age=31536000, immutable",
        "Vary": "Accept-Encoding"
      }
    },
    "rules": {
      "pageRules": [
        {
          "url": "*/api/*",
          "settings": {
            "cacheLevel": "bypass",
            "securityLevel": "high"
          }
        },
        {
          "url": "*/admin/*",
          "settings": {
            "cacheLevel": "bypass",
            "securityLevel": "high"
          }
        },
        {
          "url": "*/static/*",
          "settings": {
            "cacheLevel": "cache_everything",
            "edgeCacheTtl": 31536000,
            "browserCacheTtl": 31536000
          }
        },
        {
          "url": "*/images/*",
          "settings": {
            "cacheLevel": "cache_everything",
            "edgeCacheTtl": 2592000,
            "polish": "lossless",
            "webp": true
          }
        }
      ]
    }
  },
  "workers": {
    "performanceWorker": {
      "description": "Performance optimization worker",
      "features": [
        "Image optimization",
        "Caching strategies",
        "Request optimization",
        "Response compression"
      ]
    },
    "securityWorker": {
      "description": "Security enhancement worker",
      "features": [
        "DDoS protection",
        "Bot detection",
        "Rate limiting",
        "Security headers"
      ]
    }
  }
}
